<link rel="import" href="../bower_components/core-ajax/core-ajax.html">

<polymer-element name="github-project-card" attributes="user project">

<template>
	
	<link rel="stylesheet" href="../bower_components/octicons/octicons/octicons.css">
	
	<style>
	:host {
	  display: inline-block;
	}
	#github{
		position: absolute;
		top: 8px;
		left: 8px;
		color: #000;
		font-size: 30px;
	}
	#card{
		font-family: "Helvetica", Arial, sans-serif;
		display: inline-block;
		width: 265px;
		height: 300px;
		overflow: hidden;
		border-radius: 6px;
		position: relative;
		background-color: #2E353C;
		text-align: center;
		color: #fff;
		font-weight: 100;
		transition: background 1000ms ease-out;
		background: #fff; /*url('./github.png') no-repeat 5px 5px;*/
		background-size: 25px;
		border: 1px solid #D5D5D5;
	}
	#avatar{
		position: relative;
		display: inline-block;
		margin: 20px 0 10px;
		border-radius: 100%;
		height: 120px;
		width: 120px;
		border: 3px solid #fff;
		vertical-align: middle;
		background-color: #fff;
		z-index: 2;
	}
	#content{
		background-color: #2E353C;
		border-top: 1px groove #999;
		position: relative;
		top: -60px;
		width: 100%;
		height: 158px;
		z-index: 1;
		padding-top: 45px;
	}
	h1{
		font-size: 20px;
		margin-bottom: 10px;
	}
	p{
		height: 50px;
		margin-top: 0px;
		color: #777;
		font-size: 14px;
	}
	#data{
		margin: 0 auto;
		width: 95%;
		border-top: 1px solid #777;
		height: 50px;
	}
	#data .octicon{
		color: #fff;
	}
	</style>
	
	<div id="card">
		<a href="{{data.html_url}}" target="_blank">
			<div id="github" class="octicon octicon-mark-github"></div>
		</a>
		
		<a href="{{data.owner.html_url}}" target="_blank">
			<img id="avatar" src="{{data.owner.avatar_url}}" />
		</a>
		<div id="content">
			<h1>{{data.name}}</h1>
			<p>{{data.description}}</p>
			<div id="data">
				<span class="octicon octicon-history"> XX</span>
				<span class="octicon octicon-git-branch"></span>
				<span class="octicon octicon-tag"></span>
				<span class="octicon octicon-repo-forked"></span>
				<span class="octicon octicon-organization"></span>
			</div>
		</div>
		
	</div>
	
	<core-ajax auto url="https://api.github.com/repos/{{user}}/{{project}}" handleAs="json" on-core-response="{{handleResponse}}" response="{{response}}"></core-ajax>
	
</template>
  
<script>
Polymer('github-project-card', {
	user: 'josex2r',
	project: 'github-project-card',
	data : {},
	ready: function() {
		
	},
	handleResponse: function(event, response) {
        //var component = document.querySelector('github-project-card');
        this.data = response.response;
   }
});
</script>

</polymer-element>